<!-- backend/app/templates/partials/sites_section.html -->
<div style="background-color: white; box-shadow: 0 1px 3px rgba(0,0,0,0.1); border-radius: 8px; padding: 12px; border: 1px solid #e5e7eb;">
  <h2 style="font-size: 14px; font-weight: 500; margin: 0 0 12px 0; color: #111827;">
    {% if sites|length == 0 %}Welcome to Site Monitor Pro{% else %}Monitored Sites{% endif %}
  </h2>

  {% if sites|length == 0 %}
    <!-- Welcome Section -->
    <div style="padding: 20px; text-align: center;">
      <div style="margin: 0 auto; display: flex; align-items: center; justify-content: center; height: 32px; width: 32px; border-radius: 50%; background-color: #f3f4f6;">
        <svg style="height: 16px; width: 16px; color: #6b7280;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
        </svg>
      </div>

      <h3 style="margin: 12px 0 6px 0; font-size: 14px; font-weight: 500; color: #111827;">
        Get started with your website monitoring
      </h3>

      <p style="margin: 0 0 16px 0; color: #6b7280; max-width: 280px; margin-left: auto; margin-right: auto; font-size: 12px;">
        Track uptime and response times for your websites in real-time. Get notified when issues occur.
      </p>

      <div style="margin-top: 16px;">
        <button onclick="document.getElementById('addSiteBtn').click()" style="display: inline-flex; align-items: center; padding: 8px 12px; border: none; font-size: 12px; font-weight: 500; border-radius: 6px; box-shadow: 0 1px 2px rgba(0,0,0,0.05); color: white; background-color: #111827; cursor: pointer; transition: background-color 0.2s;">
          <svg style="margin-left: -2px; margin-right: 6px; height: 14px; width: 14px;" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd"/>
          </svg>
          Add Your First Site
        </button>
      </div>
    </div>
  {% else %}
    <!-- Sites Table -->
    <div style="overflow-x: auto;">
      <table style="width: 100%; border-collapse: collapse;">
        <thead style="background-color: #f9fafb;">
          <tr>
            <th style="padding: 8px 12px; text-align: left; font-size: 10px; font-weight: 500; color: #6b7280; text-transform: uppercase; letter-spacing: 0.05em; border-bottom: 1px solid #e5e7eb;">
              <div style="display: flex; align-items: center; gap: 4px;">
                <svg style="height: 12px; width: 12px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a1.994 1.994 0 01-1.414.586H7a4 4 0 01-4-4V7a4 4 0 014-4z"/>
                </svg>
                <span>Name</span>
              </div>
            </th>
            <th style="padding: 8px 12px; text-align: left; font-size: 10px; font-weight: 500; color: #6b7280; text-transform: uppercase; letter-spacing: 0.05em; border-bottom: 1px solid #e5e7eb;">
              <div style="display: flex; align-items: center; gap: 4px;">
                <svg style="height: 12px; width: 12px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>
                </svg>
                <span>URL</span>
              </div>
            </th>
            <th style="padding: 8px 12px; text-align: left; font-size: 10px; font-weight: 500; color: #6b7280; text-transform: uppercase; letter-spacing: 0.05em; border-bottom: 1px solid #e5e7eb;">
              <div style="display: flex; align-items: center; gap: 4px;">
                <svg style="height: 12px; width: 12px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                <span>Status</span>
              </div>
            </th>
            <th style="padding: 8px 12px; text-align: left; font-size: 10px; font-weight: 500; color: #6b7280; text-transform: uppercase; letter-spacing: 0.05em; border-bottom: 1px solid #e5e7eb;">
              <div style="display: flex; align-items: center; gap: 4px;">
                <svg style="height: 12px; width: 12px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                <span>Response</span>
              </div>
            </th>
            <th style="padding: 8px 12px; text-align: left; font-size: 10px; font-weight: 500; color: #6b7280; text-transform: uppercase; letter-spacing: 0.05em; border-bottom: 1px solid #e5e7eb;">
              <div style="display: flex; align-items: center; gap: 4px;">
                <svg style="height: 12px; width: 12px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                <span>Last Checked</span>
              </div>
            </th>
            <th style="padding: 8px 12px; text-align: left; font-size: 10px; font-weight: 500; color: #6b7280; text-transform: uppercase; letter-spacing: 0.05em; border-bottom: 1px solid #e5e7eb;">
              <div style="display: flex; align-items: center; gap: 4px;">
                <svg style="height: 12px; width: 12px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"/>
                </svg>
                <span>Actions</span>
              </div>
            </th>
          </tr>
        </thead>
        <tbody style="background-color: white;">
          {% for site in sites %}
          <tr data-site-id="{{ site.id }}" style="border-bottom: 1px solid #f3f4f6; transition: background-color 0.15s;" onmouseover="this.style.backgroundColor='#f9fafb'" onmouseout="this.style.backgroundColor='white'">
            <td style="padding: 8px 12px;">
              <div style="display: flex; align-items: center;">
                <div style="flex-shrink: 0; height: 6px; width: 6px;">
                  <div style="height: 6px; width: 6px; border-radius: 50%; background-color: {% if site.status.startswith('OK') %}#10b981{% else %}#ef4444{% endif %};"></div>
                </div>
                <div style="margin-left: 8px;">
                  <div style="font-size: 12px; font-weight: 500; color: #111827;">{{ site.name }}</div>
                </div>
              </div>
            </td>
            <td style="padding: 8px 12px;">
              <div style="font-size: 11px; color: #6b7280; word-break: break-all; max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;" title="{{ site.url }}">
                {{ site.url }}
              </div>
            </td>
            <td style="padding: 8px 12px;" class="site-status-cell">
              <span style="padding: 2px 6px; display: inline-flex; font-size: 10px; line-height: 1.2; font-weight: 600; border-radius: 9999px; {% if site.status.startswith('OK') %}background-color: #dcfce7; color: #166534;{% else %}background-color: #fee2e2; color: #991b1b;{% endif %}">
                {{ site.status }}
              </span>
            </td>
            <td style="padding: 8px 12px; font-size: 11px;" class="site-response-time-cell">
              <div style="display: flex; align-items: center;">
                <span style="{% if site.response_time > 1000 %}color: #dc2626; font-weight: 500;{% elif site.response_time > 500 %}color: #d97706;{% else %}color: #6b7280;{% endif %}">
                  {{ site.response_time }} ms
                </span>
                {% if site.response_time > 1000 %}
                <span style="margin-left: 4px; display: inline-flex; align-items: center; padding: 1px 4px; border-radius: 4px; font-size: 9px; font-weight: 500; background-color: #fee2e2; color: #991b1b;">
                  Slow
                </span>
                {% endif %}
              </div>
            </td>
            <td style="padding: 8px 12px; font-size: 11px; color: #6b7280;" class="site-last-checked-cell">
              {{ site.last_checked_formatted if site.last_checked else "Never" }}
            </td>
            <td style="padding: 8px 12px; font-size: 11px; font-weight: 500;">
              <div style="display: flex; align-items: center; gap: 4px;">
                <button onclick="window.checkSite && window.checkSite({{ site.id }})" 
                        class="check-now-btn" 
                        style="display: inline-flex; align-items: center; padding: 4px 6px; border: 1px solid #d1d5db; font-size: 9px; font-weight: 500; border-radius: 4px; box-shadow: 0 1px 2px rgba(0,0,0,0.05); color: #374151; background-color: white; cursor: pointer; transition: all 0.15s;">
                  <svg style="height: 10px; width: 10px; margin-right: 2px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                  </svg>
                  Check
                </button>
                
                <button onclick="window.showSiteDetails && window.showSiteDetails({{ site.id }}, '{{ site.name|replace("'", "\\'") }}')" 
                        style="display: inline-flex; align-items: center; padding: 4px 6px; border: 1px solid #d1d5db; font-size: 9px; font-weight: 500; border-radius: 4px; box-shadow: 0 1px 2px rgba(0,0,0,0.05); color: #2563eb; background-color: white; cursor: pointer; transition: all 0.15s;">
                  <svg style="height: 10px; width: 10px; margin-right: 2px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                  </svg>
                  Details
                </button>
                
                <button onclick="if(confirm('Are you sure you want to delete this site?')) window.location.href='{{ url_for('api.delete_site', site_id=site.id) }}'" 
                        style="display: inline-flex; align-items: center; padding: 4px 6px; border: 1px solid #d1d5db; font-size: 9px; font-weight: 500; border-radius: 4px; box-shadow: 0 1px 2px rgba(0,0,0,0.05); color: #dc2626; background-color: white; cursor: pointer; transition: all 0.15s;">
                  <svg style="height: 10px; width: 10px; margin-right: 2px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                  </svg>
                  Delete
                </button>
              </div>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% endif %}
</div>